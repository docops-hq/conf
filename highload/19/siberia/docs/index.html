<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Как сделать так, чтобы документация не болела &middot; Конспекты</title><link rel=stylesheet href=/conf/css/style.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700"><link rel=stylesheet href=/conf/custom.css><link rel=icon type=image/png sizes=32x32 href=/conf/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/conf/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/conf/images/apple-touch-icon.png><link href rel=alternate type=application/rss+xml title=Конспекты><script async src="https://www.googletagmanager.com/gtag/js?id=UA-107215405-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-107215405-3');</script></head><body><nav class=nav><div class=nav-container><a href=/conf/><h2 class=nav-title>Конспекты</h2></a><ul><li><a href=/conf/>Posts</a></li></ul></div></nav><main><div class=post><div class=single__header><div class=post-info>Семён Факторович, Николай Волынкин</div><h1 class=post-title>Как сделать так, чтобы документация не болела</h1><div class=post-line></div><div class=tag-block><span class=catalogue-tags><a href=/conf/tags/highload class=tags>HighLoad</a></span><span class=catalogue-tags><a href=/conf/tags/2019 class=tags>2019</a></span></div></div><p>Конспект <a href=https://www.highload.ru/siberia/2019/meetups#2171805>митапа</a> на <a href=https://www.highload.ru/siberia/2019>Highload++ Siberia 2019</a>.</p><p>Ведущие:</p><ul><li>Семён Факторович, Chief Technical Writing Officer, <a href=http://documentat.io>documentat.io</a></li><li>Николай Волынкин, технический писатель, <a href=http://plesk.com>Plesk</a>, телеграм-канал <a href=http://t.me/docops>@DocOps</a></li></ul><h1 id=определимся-с-терминами>Определимся с терминами</h1><p>Мы по профессии техписатели, и у нас своя специфика трактовки термина «документация».</p><p>Техписатели традиционно занимаются той документацией, которая пишется после написания кода — справочники API, руководства пользователя, описание архитектуры и дизайн-решений.</p><p>Документация, которая пишется до написания кода (ТЗ, спецификации требований), в нашей картине мира — область ответственности системных аналитиков.</p><p>То, о чем мы сегодня говорим, в большей степени относится к той документации, которая пишется до кода.</p><p>В архитектурной документации есть такое же разделение: есть доки «как мы хотим сделать» и доки «как мы сделали».</p><h1 id=документация-какая-она>Документация — какая она?</h1><p>Примеры документации из практики участников митапа:</p><ul><li>Входные требования</li><li>REST API</li><li>Как решать типовую задачу Х: дописать модуль, экран, тест&hellip;</li><li>Sequence diagram как объяснение сложного бизнес-процесса</li><li>User stories как постановка задачи разработчику и полуфабрикат для тест-кейсов</li><li>Шаблоны GUI, мокапы дизайна</li><li>Дока для внешних разработчиков: tutorials, how to</li><li>Релиз-план</li><li>Installation guide, server deployment</li><li>«Паспорт» сервиса: от разработчиков к опсам</li><li>README: что это такое, зачем, чьё</li><li>Документация в коде</li><li>Тесты на Gherkin?</li></ul><h1 id=формальное-определение-документации>Формальное определение документации</h1><p>Идем в PMBOK, Project management body of knowledge.</p><p>В проекте есть стейкхолдеры и коммуникации между ними. Аналитики передают информацию разработчикам, пользователи API забирают информацию тоже у разработчиков, потенциальные клиенты имеют вопросы к product owner&rsquo;ам.</p><p>Документация — это проектный артефакт, заменяющий или дополняющий личную коммуникацию между двумя конкретными стейкхолдерами проекта.</p><h1 id=что-бывает-не-так-с-документацией>Что бывает не так с документацией</h1><h2 id=документации-нет>Документации нет</h2><ul><li>нужны ресурсы, чтобы сделать</li><li>есть, но плохо доступна</li><li>информация искажается</li></ul><p>Следствия отсутствия документации:</p><ul><li>нет механизма подтверждения договоренностей</li><li>при устной передаче информация искажается</li></ul><h2 id=сложно-структурировать>Сложно структурировать</h2><ul><li>как и куда добавлять новую статью, чтобы ее потом нашли?</li><li>барьер для поддержки и создания документации слишком высок. Непонятно, как ее писать (и когда), и куда складывать.</li></ul><h2 id=документация-устарела-или-ошибочна>Документация устарела или ошибочна</h2><h2 id=написана-так-что-извлекать-информацию-сложно>Написана так, что извлекать информацию сложно</h2><ul><li>слишком много аббревиатур и внутреннего жаргона</li><li>сложный стиль</li><li>термины, непонятные читателю</li><li>на языке, который неизвестен читателю</li><li>нет примеров использования или иллюстраций</li></ul><p>Обобщая: документация очень часто не решает задачи принимающего стейкхолдера (неполна, ошибочна, написана для решения другой проблемы).</p><h2 id=пользователь-не-хочет-читать>Пользователь не хочет читать</h2><ul><li>хочет решить проблему, а не изучать предметную область</li><li>слишком много читать</li><li>документация написана не для того, чтобы помочь пользователю</li><li>есть конкурирующий канал коммуникации: спросить тимлида проще, чем читать доки</li></ul><h2 id=документация-низкоприоритетна>Документация низкоприоритетна.</h2><p>Обычно в команде разработки есть что ещё поделать. Свободное время идёт на техдолг.</p><p>Документация хуже регламентирована, чем, например, разработка и тестирование.</p><h1 id=что-с-этим-делать>Что с этим делать</h1><h2 id=тезисно>Тезисно</h2><ol><li><p>Четкое понимание, каких двух стейкхолдеров связывает документация, и какую проблему принимающей стороны мы решаем.</p></li><li><p>Инструментальный стек и инструментальные сценарии.</p><ul><li>«Чтобы задокументировать API для очередного микросервиса, мы берем OpenAPI и коммитим сваггер-файл вот сюда, назвав его по такой-то конвенции»</li><li>«Дизайн-решения по компонентам мы описываем в Confluence и складываем вот сюда»</li></ul></li><li><p>Шаблоны и эталонные примеры документации для повторяемых объектов документирования.</p></li><li><p>Критерии качества и процедуры проверки (как мы проверяем, что в документации нет ошибок? а как мы проверяем, что она полна?)</p></li><li><p>Четкое место документации в цикле разработки. Документация — часть definition of done фичи.</p></li><li><p>Четкие процессы поддержания документации в актуальном состоянии. Нельзя пофиксать баг, не обновив всю релевантную документацию (и не прогнав QA-процесс, подтверждающий, что она действительно обновлена).</p></li><li><p>Documentation owner или documentation champion: человек, которому больше всех не пофиг на документацию, который видит и чувствует, как она должна жить и выглядеть, и у которого есть административные рычаги внедрить пп.1-6 выше или продать все это высшему менеджменту.</p></li></ol><h2 id=инструментальный-стек>Инструментальный стек</h2><p>Есть барьер на написание документации, во многом психологический. Неясно, как начать.</p><p>Решение:</p><ul><li>инструментальные сценарии и шаблоны документов.
«Чтобы документировать микросервис, возьми инструкцию Х, заполни шаблон Y».</li><li>критерии качества и проверки документов.
Что должно быть в документе, когда мы считаем задачу выполненной.</li></ul><h2 id=роль-документации-в-общем-цикле-разработки>Роль документации в общем цикле разработки</h2><p>Если строгого процесса нет, то его нет вообще.</p><ul><li>В definition of done фичи входит документация на фичу</li><li>Изменение кода и фичи =&gt; изменение документации</li></ul><h1 id=вопросы>Вопросы</h1><h2 id=актуализация-доки-в-swagger>Актуализация доки в Swagger</h2><p>Можно считать coverage с помощью Cucumber, проверять что не уменьшилось</p><h2 id=визуализация-диаграмм>Визуализация диаграмм</h2><p>Есть сложная процессная диаграмма с несколькими представлениями. Как сделать ее читаемой?</p><p>Человек выходит к чистой доске, рисует диаграмму с нуля и рассказывает. Всё это записываем на видео.</p><h2 id=внятная-opensource-документация>Внятная opensource-документация</h2><p>Есть опенсорсный продукт. Можно описать всё, но это слишком много. Можно описать часть.
Пользователи:</p><ul><li>которые онбордятся</li><li>которые уже пользуются</li></ul><p>Решение: посмотреть на практики больших опенсорсных продуктов, например
<a href=https://developers.google.com/protocol-buffers/>Google Protobuf</a>.
Для новых пользователей делать отдельную документацию. Необязательно текст, можно видео, доклады на конференциях, что угодно.
Строим «лесенки» для новых пользователей, по которым они могут зайти в продукт.</p><h2 id=контекстуальность-документации>Контекстуальность документации</h2><p>Документация от программистов к программистам очень часто «прячет лес за деревьями»: детали заглушают общую картину. Как надо: «описываемая система — это&hellip;, она нужна, чтобы &hellip; и позволит вам сделать&hellip;».</p><p>«Прочитав этот документ, вы сможете&hellip;», «по завершению этого документа у вас будет&hellip;», «этот документ расчитывает, что вы знаете&hellip;»</p><h1 id=что-почитать-и-посмотреть>Что почитать и посмотреть</h1><p>Книга «Пиши, сокращай» Ильяхова и Сарычевой</p><p><a href=https://knowledgeconf.ru/2019>KnowledgeConf (апрель 2019)</a>, доклад <a href=https://knowledgeconf.ru/2019/abstracts/4729>Alexandrа White про видеодокументацию</a>.</p><p>Линтеры для документации: <a href=https://testthedocs.org/index.html>testthedocs.org</a></p><p>Курс по документированию API: <a href=https://idratherbewriting.com/learnapidoc/>Tom Johnson, Documenting APIs</a></p><h1 id=продукты-с-хорошей-документацией>Продукты с хорошей документацией</h1><ul><li>Docker: полное описание команд</li><li>Bitbucket REST API</li><li><a href=https://stripe.com/docs>Stripe</a></li><li><a href=https://squareup.com/us/en/developers>Square</a></li><li><a href=https://www.twilio.com/docs/>Twilio</a></li><li><a href=https://learngitbranching.js.org/>Learn Git Branching</a></li><li><a href=https://developers.google.com/protocol-buffers/>Google Protobuf</a></li><li><a href=https://gstreamer.freedesktop.org/documentation/>Gstreamer</a></li></ul><h1 id=ещё-хорошие-практики>Ещё хорошие практики</h1><ul><li>Postmortems</li><li><a href=https://github.com/joelparkerhenderson/architecture_decision_record>Architecture Decision Record</a></li><li>Глоссарий: описание концепта и обозначающих его терминов.</li></ul></div><div class=pagination><a href=/conf/teamleadconf/20/documentation_challenges/ class="left arrow">&#8592;</a>
<a href=/conf/moscowpython/19/yandex-python/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>&copy; <time datetime="2020-12-08 06:39:34.431626776 &#43;0000 UTC m=&#43;0.118161894">2020</time> . Made with <a href=https://gohugo.io>Hugo</a> using the <a href=https://github.com/EmielH/tale-hugo/>Tale</a> theme.</span></footer></body></html>